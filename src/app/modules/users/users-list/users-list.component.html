<mat-card>
  <ng-container *ngIf="!isLoading; else loading">
    <ng-container *ngIf="users.length >= 0; else error">
      <div class="mat-elevation-z8">
        <mat-toolbar color="primary">
          <span>Users</span>

          <form [formGroup]="formGroup">
            <mat-form-field appearance="standard">
              <mat-label>Search</mat-label>
              <input
                matInput
                placeholder="start typing..."
                [formControl]="inputSearchFormControl"
              />
              <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
          </form>

          <!-- <button mat-mini-fab aria-label="Add new user" (click)="onAdd()">
              <mat-icon>add</mat-icon>
            </button> -->
        </mat-toolbar>
        <sfc-table
          [data]="users"
          (tableComponentEvent)="tableComponentEvent($event)"
        >
          <ng-template #headers let-columnName>
            <ng-container *ngIf="columnName === 'country'"
              >Country</ng-container
            >
          </ng-template>
          <ng-template #cells let-cell let-columnName="columnName">
            <sfc-flag-icon
              *ngIf="columnName === 'country'"
              [country]="cell.country"
            ></sfc-flag-icon>
          </ng-template>
        </sfc-table>
        <sfc-table
          [data]="users"
          (tableComponentEvent)="tableComponentEvent($event)"
        ></sfc-table>
        <mat-paginator
          [length]="pageEvent.length"
          [pageSize]="pageEvent.pageSize"
          [pageSizeOptions]="[5, 10, 25, 100]"
          [pageIndex]="pageEvent.pageIndex"
          (page)="onPageChange($event)"
          aria-label="Select page"
        >
        </mat-paginator>
      </div>
    </ng-container>
    <ng-template #error> Error </ng-template>
  </ng-container>
  <ng-template #loading>
    <sfc-progress-spinner></sfc-progress-spinner>
  </ng-template>
</mat-card>
